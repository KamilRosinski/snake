<section>
    <h2>Snake</h2>
    <button (click)="play()" [disabled]="!playable">play</button>
    <button (click)="pause()" [disabled]="!pausable">pause</button>
    <button (click)="reset()" [disabled]="!resettable">reset</button>
    <div id="game-info">
        <div id="score">Score: {{score}}</div>
        <div id="energy">Energy: <app-progress-bar *ngIf="snake" [value]="snakeEnergy / settings.snake.initialEnergy"></app-progress-bar></div>
    </div>
    <div id="snake-box" (swipe)="swipe($event)">
        <svg [attr.viewBox]="settings.board | dimensionsFormatter">
            <defs>
                <pattern id="checkerboard" x="-0.5" y="-0.5" width="2" height="2" patternUnits="userSpaceOnUse">
                    <rect class="checker-dark" x="0" y="1" width="1" height="1"></rect>
                    <rect class="checker-dark" x="1" y="0" width="1" height="1"></rect>
                    <rect class="checker-light" x="0" y="0" width="1" height="1"></rect>
                    <rect class="checker-light" x="1" y="1" width="1" height="1"></rect>
                </pattern>
            </defs>
            <rect id="playground" x="-0.5" y="-0.5" width="100%" height="100%" fill="url(#checkerboard)"></rect>
            <g *ngIf="isSnake" [class.opacity3]="gameFinished">
                <polyline class="tail" [attr.points]="snakeCoordinates | snakeFormatter"/>
                <circle class="head" r="0.4" [attr.cx]="headCoordinates.x" [attr.cy]="headCoordinates.y"/>
                <circle class="food" *ngIf="foodCoordinates" r="0.3" [attr.cx]="foodCoordinates.x" [attr.cy]="foodCoordinates.y"/>
            </g>
        </svg>
        <div *ngIf="gameFinished" class="label-overlay">
            <p class="game-over">Game over!</p>
            <p class="score">Your score: {{score}}</p>
        </div>
    </div>
</section>
